---
import type { Work } from "../data/works";

interface Props {
  work: Work;
}

const { work } = Astro.props;
const withBase = (path: string) => `${import.meta.env.BASE_URL}${path.replace(/^\//, "")}`;
---

<article class="card panel">
  <img class="thumb" src={work.thumbnail} alt={`${work.title} サムネイル`} loading="lazy" />
  <p class="sense">{work.sense}</p>
  <h3>{work.title}</h3>
  <p class="tagline">{work.tagline}</p>
  <p class="muted">{work.highlight}</p>
  <div class="actions">
    <a class="btn primary" href={withBase(`/works/${work.slug}`)}>作品詳細</a>
    <a class="btn" href={withBase(`/novels/${work.novelSlug}`)}>小説を読む</a>
  </div>
</article>

<style>
  .card {
    display: grid;
    gap: 0.45rem;
  }

  .thumb {
    width: 100%;
    aspect-ratio: 16 / 9;
    border-radius: 14px;
    object-fit: cover;
    border: 1px solid color-mix(in oklab, var(--line) 80%, transparent);
    background: #0f1b2a;
  }

  .sense {
    margin: 0;
    color: var(--ok);
    letter-spacing: 0.08em;
    font-size: 0.78rem;
    font-weight: 700;
  }

  h3 {
    margin: 0.1rem 0 0;
    font-size: 1.35rem;
  }

  .tagline {
    margin: 0;
    font-size: 1.04rem;
  }

  .muted {
    margin: 0;
    font-size: 0.93rem;
  }

  .actions {
    margin-top: 0.45rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.7rem;
  }
</style>
