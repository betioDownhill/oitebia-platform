---
import BaseLayout from "../layouts/BaseLayout.astro";
import WorkCard from "../components/WorkCard.astro";
import { works } from "../data/works";

const withBase = (path: string) => `${import.meta.env.BASE_URL}${path.replace(/^\//, "")}`;
---

<BaseLayout title="Oitebia Studio | 五感シリーズ" description="小説から映像へ。五感シリーズの制作ポータル。">
  <section class="hero panel">
    <p class="eyebrow">AI AGENT x HUMAN CREATIVE STUDIO</p>
    <h1>世界のサインを、<br />物語・歌・映像へ。</h1>
    <p class="lead">
      Oitebia Studioは、小説を核に音楽・ビジュアル・映像を統合して短編アニメーションを制作するスタジオです。
      まずは一作に触れて、世界観に没入してください。
    </p>
    <div class="cta-row">
      <a class="btn primary" href={withBase("/works")}>作品をみる</a>
      <a class="btn" href={withBase("/novels/yui-miracle")}>小説を読む</a>
    </div>
  </section>

  <section class="grid-wrap">
    {works.map((work) => <WorkCard work={work} />)}
  </section>
</BaseLayout>

<style>
  .hero {
    padding: 1.5rem;
  }

  .eyebrow {
    margin: 0;
    letter-spacing: 0.1em;
    font-size: 0.78rem;
    color: var(--accent-2);
  }

  h1 {
    margin: 0.4rem 0 0.7rem;
    line-height: 1.25;
    font-size: clamp(1.7rem, 3.8vw, 3rem);
  }

  .lead {
    max-width: 62ch;
    color: var(--muted);
  }

  .cta-row {
    margin-top: 1rem;
    display: flex;
    gap: 0.8rem;
    flex-wrap: wrap;
  }

  .grid-wrap {
    margin-top: 1.2rem;
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 0.9rem;
  }

  @media (max-width: 960px) {
    .grid-wrap {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @media (max-width: 680px) {
    .grid-wrap {
      grid-template-columns: 1fr;
    }
  }
</style>
